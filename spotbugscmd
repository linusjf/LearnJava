#!/usr/bin/env bash
require() {
hash "@" || exit 127
}
require java cat 
declare -r classpathFile="spotbugs.cp"
declare -r mainClass="edu.umd.cs.findbugs.LaunchAppropriateUI"
declare -r pluginjars="spotbugs-plugin.cp"
declare -r plugins="$(cat "$pluginjars")"

java -cp @"$classpathFile" "$mainClass" \
  -pluginList "<${plugins}>" "$@" \
|| { exitCode="$?";echo "$0 exited with error code $exitCode"; exit "$exitCode";}
res=$?
exit $res
