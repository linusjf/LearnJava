#!/usr/bin/env bash
require() {
hash "$@" || exit 127
}
require java realpath cat
# shellcheck disable=SC2155
declare -r classpathFile="$(realpath 'cs.cp')"
declare -r mainClass="com.puppycrawl.tools.checkstyle.Main"
# shellcheck disable=SC2155
declare -r classpath="$(cat "$classpathFile")"

java -cp "$classpath" "$mainClass" "$@" \
|| { exitCode="$?";echo "$0 exited with error code $exitCode"; exit "$exitCode";}
res=$?
exit $res
